<div>
    <div class="table-container product-table">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">


            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Product name </th>
                <td mat-cell *matCellDef="let element">
                    <li *ngFor="let item of element.product">{{item.name | ProductName:15 }}</li>
                </td>
            </ng-container>
            <ng-container matColumnDef="category">
                <th mat-header-cell *matHeaderCellDef> category </th>
                <td mat-cell *matCellDef="let element">
                    <li *ngFor="let item of element.product">{{item.category}}</li>

                </td>
            </ng-container>


            <ng-container matColumnDef="price">
                <th mat-header-cell *matHeaderCellDef>price </th>
                <td mat-cell *matCellDef="let element">
                    <li *ngFor="let item of element.product">{{item.price}}</li>
                </td>
            </ng-container>


            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef> description </th>
                <td mat-cell *matCellDef="let element">
                    <li *ngFor="let item of element.product">{{item.description | ProductName:100}}</li>
                </td>
            </ng-container>


            <ng-container matColumnDef="available">
                <th mat-header-cell *matHeaderCellDef> available </th>
                <td mat-cell *matCellDef="let element">
                    <li *ngFor="let item of element.product, let i=index">
                        <span [ngClass]="item.available =='true'?'success' :'danger'"> {{item.available
                            =='true'?'Available' :'Not Available'}}
                        </span>

                    </li>
                </td>
            </ng-container>

            <ng-container matColumnDef="obj">
                <th mat-header-cell *matHeaderCellDef> obj </th>
                <td mat-cell *matCellDef="let element">
                    <li *ngFor="let item of element.product, let i=index">
                        <button mat-icon-button [matMenuTriggerFor]="menup"
                            aria-label="Example icon-button with a menu">
                            <mat-icon>more_vert</mat-icon>
                        </button>
                        <mat-menu #menup="matMenu">
                            <button type="button" mat-menu-item (click)="deleteObj(element.id,i)"><mat-icon
                                    color="warn">delete</mat-icon></button>
                            <button type="button" mat-menu-item [routerLink]="['/product/pro',element.id,i]"><mat-icon
                                    color="primary">edit</mat-icon></button>
                        </mat-menu>
                    </li>
                </td>
            </ng-container>


            <ng-container matColumnDef="Action">
                <th mat-header-cell *matHeaderCellDef>Action</th>
                <td mat-cell *matCellDef="let element">
                    <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                        <mat-icon>more_vert</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item [routerLink]="['/product/edit',element.id]">
                            <mat-icon color="primary">edit</mat-icon>
                            <span>Edit</span>
                        </button>
                        <button mat-menu-item (click)="delete(element ,element.id)" type="button">
                            <mat-icon color="warn">delete</mat-icon>
                            <span>Delete</span>
                        </button>
                    </mat-menu>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

    </div>
</div>
<mat-paginator [pageSizeOptions]="[5, 50, 20]" showFirstLastButtons></mat-paginator>